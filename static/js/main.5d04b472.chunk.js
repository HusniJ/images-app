(this["webpackJsonpimages-app"]=this["webpackJsonpimages-app"]||[]).push([[0],{113:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(15),r=c.n(a),i=c(14),l=c.n(i),o=(c(85),c(11)),u=c.p+"static/media/logo.6ce24c58.svg",j=(c(86),c(12)),d=c(27),b=c(114),h=c(115),O=c(126),f=c(127),g=c(116),m=c(59),p=c(125),x=c(117),v=c(118),I=c(119),y=c(120),S=c(121),C=c(122),U=c(123),k=c(124),w=c(3),N=function(e){var t=e.setUserId,c=e.userId,s=Object(n.useState)([]),a=Object(o.a)(s,2),r=a[0],i=a[1],u=Object(n.useState)("Select Users"),N=Object(o.a)(u,2),P=N[0],z=N[1],A=Object(n.useState)(!1),E=Object(o.a)(A,2),L=E[0],M=E[1],T=Object(n.useState)(!1),F=Object(o.a)(T,2),B=F[0],D=F[1],H=Object(n.useState)(!1),J=Object(o.a)(H,2),R=J[0],Z=J[1],q=Object(n.useState)(""),K=Object(o.a)(q,2),Q=K[0],W=K[1],Y=Object(n.useState)(""),G=Object(o.a)(Y,2),V=G[0],X=G[1],$=function(){return Z(!R)};Object(n.useEffect)((function(){D(!0),l.a.get("/user/all").then((function(e){i(e.data)})).catch((function(e){j.b.error(e)})).finally((function(){D(!1)}))}),[]);var _=function(e){z(e.target.name),t(e.target.value)};return null!==c?"":Object(w.jsx)("div",{children:B?Object(w.jsx)(b.a,{color:"primary"}):Object(w.jsxs)("div",{className:"User-Div",children:[Object(w.jsx)("div",{children:r.length>0&&Object(w.jsxs)(h.a,{isOpen:L,toggle:function(){return M((function(e){return!e}))},children:[Object(w.jsx)(O.a,{caret:!0,children:P}),Object(w.jsx)(f.a,{children:r.map((function(e,t){return Object(w.jsx)(g.a,{value:e.userId,name:e.name,onClick:_,children:e.name},t)}))})]})}),"\xa0",Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{color:"secondary",onClick:$,children:"Create User"}),Object(w.jsxs)(p.a,{isOpen:R,toggle:$,children:[Object(w.jsx)(x.a,{toggle:$,children:"Modal title"}),Object(w.jsx)(v.a,{children:Object(w.jsxs)(I.a,{children:[Object(w.jsxs)(y.a,{row:!0,children:[Object(w.jsx)(S.a,{for:"userId",sm:2,children:"User Id"}),Object(w.jsx)(C.a,{sm:10,children:Object(w.jsx)(U.a,{type:"text",name:"userId",id:"userId",placeholder:"enter user id",onChange:function(e){return W("".concat(e.target.value))}})})]}),Object(w.jsxs)(y.a,{row:!0,children:[Object(w.jsx)(S.a,{for:"userName",sm:2,children:"Name"}),Object(w.jsx)(C.a,{sm:10,children:Object(w.jsx)(U.a,{type:"text",name:"userId",id:"userName",placeholder:"enter name",onChange:function(e){return X("".concat(e.target.value))}})})]})]})}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(m.a,{color:"primary",onClick:function(){""!==Q&&0!==Q.trim().length?""!==V&&0!==V.trim().length?(D(!0),l.a.post("/user/insert",{userId:Q,name:V}).then((function(e){j.b.success("Saved Successfully"),i((function(t){return[].concat(Object(d.a)(t),[e.data])})),$()})).catch((function(e){j.b.error(null===e||void 0===e?void 0:e.message)})).finally((function(){D(!1)}))):j.b.error("Invalid User Name"):j.b.error("Invalid User Id")},children:"Save"})," ",Object(w.jsx)(m.a,{color:"secondary",onClick:$,children:"Cancel"})]})]})]})]})})},P=c(26),z=c(19),A=function(e){var t=e.selected;return Object(w.jsxs)("div",{style:t?{left:"4px",top:"4px",position:"absolute",zIndex:"1"}:{display:"none"},children:[Object(w.jsx)("svg",{style:{fill:"white",position:"absolute"},width:"24px",height:"24px",children:Object(w.jsx)("circle",{cx:"12.5",cy:"12.2",r:"8.292"})}),Object(w.jsx)("svg",{style:{fill:"#06befa",position:"absolute"},width:"24px",height:"24px",children:Object(w.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})]})},E={transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},L={transform:"translateZ(0px) scale3d(0.9, 0.9, 1)",transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},M={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"},T=function(e){var t=e.index,c=e.photo,s=e.margin,a=e.direction,r=e.top,i=e.left,l=e.selected,u=e.toggleImageSelection,j=Object(n.useState)(l),d=Object(o.a)(j,2),b=d[0],h=d[1],O=(100-30/c.width*100)/100,f=(100-30/c.height*100)/100;L.transform="translateZ(0px) scale3d(".concat(O,", ").concat(f,", 1)"),"column"===a&&(M.position="absolute",M.left=i,M.top=r);return Object(n.useEffect)((function(){h(l)}),[l]),Object(w.jsxs)("div",{style:Object(z.a)({margin:s,height:c.height,width:c.width},M),className:b?"":"not-selected",children:[Object(w.jsx)(A,{selected:!!b}),Object(w.jsx)("img",Object(z.a)(Object(z.a)({alt:c.title,style:b?Object(z.a)(Object(z.a)({},E),L):Object(z.a)({},E)},c),{},{onClick:function(e){h(!b),console.log("selected",t),u(!b,t)}})),Object(w.jsx)("style",{children:".not-selected:hover{outline:2px solid #06befa}"})]})},F=function(e){var t=e.userId,c=e.setUserImages,s=e.userImages,a=e.clearUserId,r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],h=i[1],O=Object(n.useState)([]),f=Object(o.a)(O,2),g=f[0],p=f[1],x=Object(n.useState)([]),v=Object(o.a)(x,2),I=v[0],y=v[1],S=Object(n.useState)(!1),C=Object(o.a)(S,2),U=C[0],k=C[1];Object(n.useEffect)((function(){if(null!==t){!function(){h(!0);var e=[];l.a.get("user/images/find/".concat(t)).then((function(t){var n,s;(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(s=n.imagePaths)||void 0===s?void 0:s.length)>0&&t.data.imagePaths.map((function(t){return e.push({src:t,width:1,height:1}),t})),c(e),k(e.length>0)})).catch((function(e){j.b.error(e.message)})).finally((function(){h(!1)}))}()}}),[t]),Object(n.useEffect)((function(){if(0===s.length){!function(){if(null!==t){var e=[];h(!0),l.a.get("https://dev-pb-apps.s3-eu-west-1.amazonaws.com/collection/CHhASmTpKjaHyAsSaauThRqMMjWanYkQ.json").then((function(t){var c;null===(c=t.data)||void 0===c||c.entries.map((function(t){return e.push({src:t.picture,width:1,height:1}),t})),p(e)})).catch((function(e){j.b.error(e.message)})).finally((function(){h(!1)}))}}()}}),[s]);var N=Object(n.useCallback)((function(e){var t=e.index,c=e.left,n=e.top,s=e.key,a=e.photo;return Object(w.jsx)(T,{selected:!1,margin:"2px",index:t,photo:a,left:c,top:n,toggleImageSelection:z},s)}),[]),z=function(e,t){y(e?function(e){return[].concat(Object(d.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})};return null===t||0!==s.length?"":Object(w.jsx)("div",{children:u?Object(w.jsx)(b.a,{color:"primary"}):Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{color:"primary",onClick:function(){if(0!==I.length)if(9===I.length){var e=[],n=[];I.map((function(t){return e.push(g[t].src),n.push({src:g[t].src,width:1,height:1}),t})),h(!0),U?l.a.put("/user/images/update",{userId:t,imagePaths:e}).then((function(){j.b.success("Successfully Updated"),y([])})).catch((function(e){j.b.error(e.message)})).finally((function(){h(!1)})):l.a.post("/user/images/insert",{userId:t,imagePaths:e}).then((function(){j.b.success("Successfully Saved"),y([])})).catch((function(e){j.b.error(e.message)})).finally((function(){h(!1)})),c(n)}else j.b.error("Please Select only 9 Images");else j.b.error("Please Select Images")},children:"Save Images"})," ",Object(w.jsx)(m.a,{color:"primary",onClick:a,children:"Change User"})]}),Object(w.jsx)("div",{className:"Image-gallery-container",children:Object(w.jsx)(P.a,{photos:g,renderImage:N})})]})})},B=function(e){var t=e.userId,c=e.userImages,n=e.clearImages,s=e.clearUserId;return null===t||0===c.length?"":Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{color:"primary",onClick:function(){return n()},children:"Update Images"})," ",Object(w.jsx)(m.a,{color:"primary",onClick:function(){return s()},children:"Change User"})]}),c.length>0&&Object(w.jsx)("div",{className:"Image-gallery-container",children:Object(w.jsx)(P.a,{photos:c})})]})},D=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],l=r[1],d=function(){l([]),s(null)};return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("header",{className:"App-header",children:[Object(w.jsx)(j.a,{}),Object(w.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(w.jsx)("h1",{children:"Image Book"}),Object(w.jsx)(N,{setUserId:s,userId:c}),Object(w.jsx)(F,{userId:c,setUserImages:l,userImages:i,clearUserId:d}),Object(w.jsx)(B,{userId:c,userImages:i,clearImages:function(){l([])},clearUserId:d})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,128)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};c(111),c(112);l.a.defaults.baseURL="https://images-gs-api.herokuapp.com",l.a.defaults.headers.post["Content-Type"]="application/json",r.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(D,{})}),document.getElementById("root")),H()},85:function(e,t,c){},86:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.5d04b472.chunk.js.map